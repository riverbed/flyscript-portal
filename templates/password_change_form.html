{% extends "base.html" %}
{% load i18n static %}

{% block title %}Portal: Password change{% endblock %}

{% block login %}{% endblock %}

{% block content %}

<div class="container-fluid">
    <div class="row-fluid">
        <div class="span3"></div>
        <div class="span6">
            <form class="form-horizontal" action="" method="post">
                {% csrf_token %}
                <fieldset>
                    <legend>Change User Password</legend>
                    {% if form.errors %}
                        <p class="text-error">
                        {% blocktrans count counter=form.errors.items|length %}Please correct the error below.{% plural %}Please correct the errors below.{% endblocktrans %}
                        </p>
                    {% endif %}

                    <p>{% trans "Please enter your old password, for security's sake, and then enter your new password twice so we can verify you typed it in correctly." %}</p>


                    <div class="control-group">
                        <div class="control-label">
                            <label for="id_old_password" class="required">{% trans 'Old password' %}:</label>
                        </div>
                        <div class="controls">
                            {{ form.old_password }}
                            {% if form.old_password.errors %}
                                {% for err in form.old_password.errors %}
                                    <p class="text-error">{{ err }}</p>
                                {% endfor %}
                            {% endif %}
                        </div>
                    </div>

                    <div class="control-group">
                        <div class="control-label">
                            <label for="id_new_password1" class="required">{% trans 'New password' %}:</label>
                        </div>
                        <div class="controls">
                            {{ form.new_password1 }}
                            {% if form.new_password1.errors %}
                                {% for err in form.new_password1.errors %}
                                    <p class="text-error">{{ err }}</p>
                                {% endfor %}
                            {% endif %}
                        </div>
                    </div>

                    <div class="control-group">
                        <div class="control-label">
                            <label for="id_new_password2" class="required">{% trans 'Password (again)' %}:</label>
                        </div>
                        <div class="controls">
                            {{ form.new_password2 }}
                            {% if form.new_password2.errors %}
                                {% for err in form.new_password2.errors %}
                                    <p class="text-error">{{ err }}</p>
                                {% endfor %}
                            {% endif %}
                        </div>
                    </div>

                    <div class="control-group">
                        <div class="controls">
                            <button type="submit" id="submit" class="btn btn-primary button-loading">Change my password</button>
                        </div>
                    </div>

                </fieldset>

            </form>
        </div>
    </div>
</div>

<script type="text/javascript">document.getElementById("id_old_password").focus();</script>

{% endblock %}
